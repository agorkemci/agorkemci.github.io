import{d as b,r as _,h,f,c as s,o as i,a,b as u,F as k,j as p,k as $,e as g,t as o,_ as y}from"./index-DumSsaA1.js";const x={},w={class:"blog-page"},z={key:0,class:"no-blogs"},B={key:1,class:"blog-list"},C=["onClick","onKeydown","aria-label"],P={key:0,class:"thumb"},K=["src"],A={class:"blog-meta"},S={class:"blog-detail"},W={key:0,class:"detail-image"},F=["src"],I={class:"blog-content"},M=b({__name:"BlogPage",setup(N){const c=_([]),n=_(null);function d(l){n.value=l}function v(l,e){return l?l.length>e?l.slice(0,e).trim()+"...":l:""}h(async()=>{try{const{data:l}=await f.get("/api/blog");c.value=l}catch{c.value=[]}});function m(l){if(!l)return"";const e=l.replace(/\\/g,"/");if(e.startsWith("http"))return e;const t=import.meta&&x?"https://mehmetzekicicekweb-backend-1.onrender.com":"";if(/^[a-zA-Z]:\//.test(e)){const r=e.indexOf("/uploads/");return r!==-1?t?`${t}${e.slice(r)}`:e.slice(r):e}return e.startsWith("/uploads")?t?`${t}${e}`:e:e.startsWith("uploads/")?t?`${t}/${e}`:`/${e}`:!e.includes("/")&&/\.[a-zA-Z0-9]{2,5}$/.test(e)?t?`${t}/uploads/${e}`:`/uploads/${e}`:e}return(l,e)=>(i(),s("div",w,[e[2]||(e[2]=a("h1",null,"Blog Yazıları",-1)),c.value.length===0?(i(),s("div",z,"Henüz blog yazısı eklenmedi.")):(i(),s("div",B,[(i(!0),s(k,null,p(c.value,t=>(i(),s("div",{key:t.id,class:"blog-card",onClick:r=>d(t),onKeydown:$(g(r=>d(t),["prevent"]),["enter"]),tabindex:"0",role:"button","aria-label":`Open blog: ${t.title}`},[t.image?(i(),s("div",P,[a("img",{src:m(t.image),alt:"post image"},null,8,K)])):u("",!0),a("div",A,[a("h2",null,o(t.title),1),a("small",null,o(t.date),1),a("p",null,o(t.summary||(t.text?v(t.text,120):"")),1)])],40,C))),128))])),n.value?(i(),s("div",{key:2,class:"blog-detail-modal",onClick:e[1]||(e[1]=g(t=>n.value=null,["self"]))},[a("div",S,[a("h2",null,o(n.value.title),1),a("small",null,o(n.value.date),1),n.value.image?(i(),s("div",W,[a("img",{src:m(n.value.image),alt:"post image"},null,8,F)])):u("",!0),a("div",I,o(n.value.text||n.value.summary||""),1),a("button",{onClick:e[0]||(e[0]=t=>n.value=null)},"Kapat")])])):u("",!0)]))}}),V=y(M,[["__scopeId","data-v-e6bdbf1e"]]);export{V as default};
