import{d as f,r as g,h,c as s,o,a,b as u,F as p,j as y,k,e as m,t as i,_ as x}from"./index-BqNpw1fX.js";import{a as $,A as v}from"./api-Bk0P1vJr.js";const C={class:"blog-page"},B={key:0,class:"no-blogs"},w={key:1,class:"blog-list"},P=["onClick","onKeydown","aria-label"],z={key:0,class:"thumb"},K=["src"],A={class:"blog-meta"},F={class:"blog-detail"},I={key:0,class:"detail-image"},L=["src"],M={class:"blog-content"},N=f({__name:"BlogPage",setup(O){const r=g([]),n=g(null);function c(l){n.value=l}function _(l,e){return l?l.length>e?l.slice(0,e).trim()+"...":l:""}h(async()=>{try{const{data:l}=await $.get("/api/blog");r.value=l}catch{r.value=[]}});function d(l){if(!l)return"";const e=l.replace(/\\/g,"/");if(e.startsWith("http"))return e;if(/^[a-zA-Z]:\//.test(e)){const t=e.indexOf("/uploads/");return t!==-1?`${v}${e.slice(t)}`:e}return e.startsWith("/uploads")?`${v}${e}`:e}return(l,e)=>(o(),s("div",C,[e[2]||(e[2]=a("h1",null,"Blog Yazıları",-1)),r.value.length===0?(o(),s("div",B,"Henüz blog yazısı eklenmedi.")):(o(),s("div",w,[(o(!0),s(p,null,y(r.value,t=>(o(),s("div",{key:t.id,class:"blog-card",onClick:b=>c(t),onKeydown:k(m(b=>c(t),["prevent"]),["enter"]),tabindex:"0",role:"button","aria-label":`Open blog: ${t.title}`},[t.image?(o(),s("div",z,[a("img",{src:d(t.image),alt:"post image"},null,8,K)])):u("",!0),a("div",A,[a("h2",null,i(t.title),1),a("small",null,i(t.date),1),a("p",null,i(t.summary||(t.text?_(t.text,120):"")),1)])],40,P))),128))])),n.value?(o(),s("div",{key:2,class:"blog-detail-modal",onClick:e[1]||(e[1]=m(t=>n.value=null,["self"]))},[a("div",F,[a("h2",null,i(n.value.title),1),a("small",null,i(n.value.date),1),n.value.image?(o(),s("div",I,[a("img",{src:d(n.value.image),alt:"post image"},null,8,L)])):u("",!0),a("div",M,i(n.value.text||n.value.summary||""),1),a("button",{onClick:e[0]||(e[0]=t=>n.value=null)},"Kapat")])])):u("",!0)]))}}),W=x(N,[["__scopeId","data-v-0ac58e25"]]);export{W as default};
