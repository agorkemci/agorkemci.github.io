import{d as h,r as g,h as b,f,c as o,o as s,a as l,b as d,F as k,j as p,k as w,e as _,t as i,_ as y}from"./index-CRmhYr1V.js";const $={},x={class:"blog-page"},z={key:0,class:"no-blogs"},B={key:1,class:"blog-list"},C=["onClick","onKeydown","aria-label"],P={key:0,class:"thumb"},K=["src"],A={class:"blog-meta"},S={class:"blog-detail"},W={key:0,class:"detail-image"},F=["src"],I={class:"blog-content"},M=h({__name:"BlogPage",setup(N){const c=g([]),a=g(null);function u(n){a.value=n}function v(n,e){return n?n.length>e?n.slice(0,e).trim()+"...":n:""}b(async()=>{try{const{data:n}=await f.get("/api/blog");c.value=n}catch{c.value=[]}});function m(n){if(!n)return"";const e=n.replace(/\\/g,"/");if(e.startsWith("http"))return e;let t=import.meta&&$?"https://mehmetzekicicekweb-backend-1.onrender.com":"";if(!t&&typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.includes("github.io")&&(t="https://mehmetzekicicekweb-backend-1.onrender.com"),/^[a-zA-Z]:\//.test(e)){const r=e.indexOf("/uploads/");return r!==-1?t?`${t}${e.slice(r)}`:e.slice(r):e}return e.startsWith("/uploads")?t?`${t}${e}`:e:e.startsWith("uploads/")?t?`${t}/${e}`:`/${e}`:!e.includes("/")&&/\.[a-zA-Z0-9]{2,5}$/.test(e)?t?`${t}/uploads/${e}`:`/uploads/${e}`:e}return(n,e)=>(s(),o("div",x,[e[2]||(e[2]=l("h1",null,"Blog Yazıları",-1)),c.value.length===0?(s(),o("div",z,"Henüz blog yazısı eklenmedi.")):(s(),o("div",B,[(s(!0),o(k,null,p(c.value,t=>(s(),o("div",{key:t.id,class:"blog-card",onClick:r=>u(t),onKeydown:w(_(r=>u(t),["prevent"]),["enter"]),tabindex:"0",role:"button","aria-label":`Open blog: ${t.title}`},[t.image?(s(),o("div",P,[l("img",{src:m(t.image),alt:"post image"},null,8,K)])):d("",!0),l("div",A,[l("h2",null,i(t.title),1),l("small",null,i(t.date),1),l("p",null,i(t.summary||(t.text?v(t.text,120):"")),1)])],40,C))),128))])),a.value?(s(),o("div",{key:2,class:"blog-detail-modal",onClick:e[1]||(e[1]=_(t=>a.value=null,["self"]))},[l("div",S,[l("h2",null,i(a.value.title),1),l("small",null,i(a.value.date),1),a.value.image?(s(),o("div",W,[l("img",{src:m(a.value.image),alt:"post image"},null,8,F)])):d("",!0),l("div",I,i(a.value.text||a.value.summary||""),1),l("button",{onClick:e[0]||(e[0]=t=>a.value=null)},"Kapat")])])):d("",!0)]))}}),V=y(M,[["__scopeId","data-v-21cb870c"]]);export{V as default};
