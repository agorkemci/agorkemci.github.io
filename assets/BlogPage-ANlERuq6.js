import{d as b,r as _,h,f,c as s,o,a,b as u,F as k,j as p,k as y,e as g,t as i,_ as x}from"./index-Dt-ZuVrA.js";const $={},w={class:"blog-page"},z={key:0,class:"no-blogs"},B={key:1,class:"blog-list"},C=["onClick","onKeydown","aria-label"],P={key:0,class:"thumb"},K=["src"],S={class:"blog-meta"},A={class:"blog-detail"},F={key:0,class:"detail-image"},I=["src"],M={class:"blog-content"},N=b({__name:"BlogPage",setup(O){const c=_([]),n=_(null);function d(l){n.value=l}function v(l,e){return l?l.length>e?l.slice(0,e).trim()+"...":l:""}h(async()=>{try{const{data:l}=await f.get("/api/blog");c.value=l}catch{c.value=[]}});function m(l){if(!l)return"";const e=l.replace(/\\/g,"/");if(e.startsWith("http"))return e;const t=import.meta&&$?"https://mehmetzekicicekweb-backend-1.onrender.com":"";if(/^[a-zA-Z]:\//.test(e)){const r=e.indexOf("/uploads/");return r!==-1?t?`${t}${e.slice(r)}`:e.slice(r):e}return e.startsWith("/uploads")&&t?`${t}${e}`:e}return(l,e)=>(o(),s("div",w,[e[2]||(e[2]=a("h1",null,"Blog Yazıları",-1)),c.value.length===0?(o(),s("div",z,"Henüz blog yazısı eklenmedi.")):(o(),s("div",B,[(o(!0),s(k,null,p(c.value,t=>(o(),s("div",{key:t.id,class:"blog-card",onClick:r=>d(t),onKeydown:y(g(r=>d(t),["prevent"]),["enter"]),tabindex:"0",role:"button","aria-label":`Open blog: ${t.title}`},[t.image?(o(),s("div",P,[a("img",{src:m(t.image),alt:"post image"},null,8,K)])):u("",!0),a("div",S,[a("h2",null,i(t.title),1),a("small",null,i(t.date),1),a("p",null,i(t.summary||(t.text?v(t.text,120):"")),1)])],40,C))),128))])),n.value?(o(),s("div",{key:2,class:"blog-detail-modal",onClick:e[1]||(e[1]=g(t=>n.value=null,["self"]))},[a("div",A,[a("h2",null,i(n.value.title),1),a("small",null,i(n.value.date),1),n.value.image?(o(),s("div",F,[a("img",{src:m(n.value.image),alt:"post image"},null,8,I)])):u("",!0),a("div",M,i(n.value.text||n.value.summary||""),1),a("button",{onClick:e[0]||(e[0]=t=>n.value=null)},"Kapat")])])):u("",!0)]))}}),W=x(N,[["__scopeId","data-v-466782f0"]]);export{W as default};
