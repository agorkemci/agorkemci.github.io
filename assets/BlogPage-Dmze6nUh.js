import{d as h,r as g,h as b,f,c as n,o,a,b as u,F as p,j as y,k,e as m,t as i,_ as x}from"./index-CAVDDlg4.js";const $={class:"blog-page"},B={key:0,class:"no-blogs"},C={key:1,class:"blog-list"},w=["onClick","onKeydown","aria-label"],z={key:0,class:"thumb"},K=["src"],P={class:"blog-meta"},F={class:"blog-detail"},M={key:0,class:"detail-image"},N=["src"],O={class:"blog-content"},S=h({__name:"BlogPage",setup(V){const r=g([]),s=g(null);function c(l){s.value=l}function v(l,e){return l?l.length>e?l.slice(0,e).trim()+"...":l:""}b(async()=>{try{const{data:l}=await f.get("/api/blog");r.value=l}catch{r.value=[]}});function d(l){if(!l)return"";const e=l.replace(/\\/g,"/");if(e.startsWith("http"))return e;if(/^[a-zA-Z]:\//.test(e)){const t=e.indexOf("/uploads/");return t!==-1?`http://127.0.0.1:3001${e.slice(t)}`:e}return e.startsWith("/uploads")?`http://127.0.0.1:3001${e}`:e}return(l,e)=>(o(),n("div",$,[e[2]||(e[2]=a("h1",null,"Blog Yazıları",-1)),r.value.length===0?(o(),n("div",B,"Henüz blog yazısı eklenmedi.")):(o(),n("div",C,[(o(!0),n(p,null,y(r.value,t=>(o(),n("div",{key:t.id,class:"blog-card",onClick:_=>c(t),onKeydown:k(m(_=>c(t),["prevent"]),["enter"]),tabindex:"0",role:"button","aria-label":`Open blog: ${t.title}`},[t.image?(o(),n("div",z,[a("img",{src:d(t.image),alt:"post image"},null,8,K)])):u("",!0),a("div",P,[a("h2",null,i(t.title),1),a("small",null,i(t.date),1),a("p",null,i(t.summary||(t.text?v(t.text,120):"")),1)])],40,w))),128))])),s.value?(o(),n("div",{key:2,class:"blog-detail-modal",onClick:e[1]||(e[1]=m(t=>s.value=null,["self"]))},[a("div",F,[a("h2",null,i(s.value.title),1),a("small",null,i(s.value.date),1),s.value.image?(o(),n("div",M,[a("img",{src:d(s.value.image),alt:"post image"},null,8,N)])):u("",!0),a("div",O,i(s.value.text||s.value.summary||""),1),a("button",{onClick:e[0]||(e[0]=t=>s.value=null)},"Kapat")])])):u("",!0)]))}}),j=x(S,[["__scopeId","data-v-61ed6a58"]]);export{j as default};
